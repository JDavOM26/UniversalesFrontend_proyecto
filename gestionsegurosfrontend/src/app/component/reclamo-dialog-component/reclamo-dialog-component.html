<div class="dialog-container">
  <h2>Crear Reclamo</h2>
  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <div class="grid-container">
      <mat-form-field class="example-full-width">
        <mat-label>Cobertura</mat-label>
        <input type="text" placeholder="Seleccione una cobertura" matInput [formControl]="coberturaControl"
               [matAutocomplete]="auto">
        <mat-autocomplete requireSelection #auto="matAutocomplete" [displayWith]="displayFn"
                          (optionSelected)="onOptionSelected($event)">
          <mat-option *ngFor="let cobertura of filteredCoberturas | async" [value]="cobertura.ID_COBERTURA">
            {{ cobertura.NOMBRE }}
          </mat-option>
        </mat-autocomplete>
        <mat-error *ngIf="coberturaControl.hasError('required')">La cobertura es requerida</mat-error>
      </mat-form-field>

      <mat-form-field class="example-full-width">
        <mat-label>Suma Disponible</mat-label>
        <input matInput formControlName="sumaDisponible" readonly>
      </mat-form-field>

      <mat-form-field class="example-full-width">
        <mat-label>Fecha de Siniestro</mat-label>
        <input matInput [matDatepicker]="picker" formControlName="fechaSiniestro">
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
        <mat-error *ngIf="form.get('fechaSiniestro')?.hasError('required')">La fecha es requerida</mat-error>
      </mat-form-field>
    </div>

    <div class="grid-container nombres">
      <mat-form-field class="example-full-width">
        <mat-label>Primer Nombre</mat-label>
        <input matInput formControlName="primerNombre">
        <mat-error *ngIf="form.get('primerNombre')?.hasError('required')">El primer nombre es requerido</mat-error>
      </mat-form-field>

      <mat-form-field class="example-full-width">
        <mat-label>Segundo Nombre</mat-label>
        <input matInput formControlName="segundoNombre">
      </mat-form-field>

      <mat-form-field class="example-full-width">
        <mat-label>Tercer Nombre</mat-label>
        <input matInput formControlName="tercerNombre">
      </mat-form-field>
    </div>

    <div class="grid-container apellidos">
      <mat-form-field class="example-full-width">
        <mat-label>Primer Apellido</mat-label>
        <input matInput formControlName="apellidoPrimero">
        <mat-error *ngIf="form.get('apellidoPrimero')?.hasError('required')">El primer apellido es requerido</mat-error>
      </mat-form-field>

      <mat-form-field class="example-full-width">
        <mat-label>Segundo Apellido</mat-label>
        <input matInput formControlName="apellidoSegundo">
      </mat-form-field>

      <mat-form-field class="example-full-width">
        <mat-label>Tercer Apellido</mat-label>
        <input matInput formControlName="apellidoTercero">
      </mat-form-field>
    </div>

    <div class="button-container">
      <button mat-button type="button" (click)="onCancel()">Cancelar</button>
      <button class="btn btn-custom" type="submit" [disabled]="!form.valid">Guardar</button>
    </div>
  </form>
</div>